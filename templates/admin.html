{% extends "base.html" %}
{% block content %}
<h2>管理者メニュー</h2>

<div class="card" style="margin-bottom: 20px;">
    <h3>ユーザー追加</h3>
    <p>追加するユーザーのメールアドレスを入力してください。</p>

    <form method="POST" style="display: flex; gap: 10px; flex-wrap: wrap;">
        <input
            type="email"
            name="email"
            required
            placeholder="example@example.com"
            style="
                flex-grow: 1;
                min-width: 250px;
                padding: 10px;
                font-size: 1em;
            "
        >

        <button type="submit" class="btn btn-primary">
            ユーザーを追加
        </button>
    </form>
</div>

<div class="card">
    <h3>登録ユーザー一覧</h3>
    <table style="width: 100%; border-collapse: collapse; margin-top: 15px;">
        <thead>
            <tr style="border-bottom: 2px solid var(--primary); text-align: left;">
                <th style="padding: 10px 5px;">メールアドレス</th>
                <th style="padding: 10px 5px; width: 100px;">権限</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
            <tr style="border-bottom: 1px solid #eee;">
                <td style="padding: 10px 5px; font-weight: 500;">
                    {{ user.email }}
                </td>
                <td style="padding: 10px 5px; text-align: center;">
                    {% if user.is_admin %}
                        <span style="
                            background: #e74c3c;
                            color: white;
                            padding: 4px 8px;
                            border-radius: 4px;
                            font-size: 0.8rem;
                            font-weight: bold;
                        ">
                            Admin
                        </span>
                    {% else %}
                        <span style="
                            background: #ccc;
                            color: var(--text-main);
                            padding: 4px 8px;
                            border-radius: 4px;
                            font-size: 0.8rem;
                        ">
                            User
                        </span>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
